<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="cache-control" content="no-cache, no-store, must-revalidate, post-check=0, pre-check=0, max-age=0" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1" />
        <title>GNES</title>

        <link rel="stylesheet" href="css/codemirror.css">
        <link rel="stylesheet" href="css/codemirror-theme.css">
        <script src="gnes.js"></script>
  </head>
  <body style="background: black; overflow: hidden; width: 100%; height: 100%; margin: 0; padding: 0; font-family: monospace;">
      <div style="position: absolute; left: 0; top: 0; width: 100vw; height: 50vh; margin: 0; padding: 0;">
          <textarea id="editor" style="display: none;">
Class Monster Of Type Sprite
    Property directionX = 1
    Property directionY = 1
    Property speed = 2.0

    Constructor
        load(filename="./assets/sprites/monster.png")
        show()
        x = 300
        y = 300
    End

    Update
        x = x + Screen.frameSpeed * directionX * speed
        If x < 0 Then directionX = 1
        If x > Screen.width Then directionX = -1

        y = y + Screen.frameSpeed * directionY * speed
        If y < 0 Then directionY = 1
        If y > Screen.height Then directionY = -1
    End
End

Class Hero Of Type Sprite
    Property speed = 5.0
    Behaviour joystick Of Type Joystick
    Behaviour gravity Of Type Gravity

    Constructor
        load(filename="./assets/sprites/hero.png")
        show()
        x = 200
        y = Screen.height - 100
    End

    Update
        If y > Screen.height - 100 Then
            y = Screen.height - 100
            gravity.velocity = 0
        End
        If Joystick.up And y == Screen.height - 100 Then
            gravity.velocity = -20.0
        End

        If Joystick.left And x > 0 Then
            x = x - Screen.frameSpeed * speed
        End
        If Joystick.right And x < Screen.width Then
            x = x + Screen.frameSpeed * speed
        End
    End
End

monster1 = New Monster(speed=2.0)
monster2 = New Monster(speed=3.0)
hero3 = New Hero()

While True Do
    Wait For Update
End
</textarea>
      </div>
      <div id="gnes" style="position: absolute; left: 0; top: 50vh; width: 100vw; height: 50vh; margin: 0; padding: 0;">
      </div>
      <div style="position: absolute; right: 12px; top: 50vh; width: 42px; height: 42px; margin-top: 12px; background: transparent;">
          <img id="editor-play" src="./assets/images/editor/icon-play.png" style="position: absolute; left: 0; top: 0; width: 100%; height: 100%;" />
          <img id="editor-stop" src="./assets/images/editor/icon-stop.png" style="position: absolute; left: 0; top: 0; width: 100%; height: 100%; visibility: hidden;" />
          <img id="editor-pause" src="./assets/images/editor/icon-pause.png" style="position: absolute; left: 0; top: 0; width: 100%; height: 100%; visibility: hidden;" />
      </div>
  </body>
</html>
